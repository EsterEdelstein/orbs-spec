syntax = "proto3";
package transactionrelay;
option go_package = "github.com/orbs-network/orbs-spec/types/go/protocol/gossip/transactionrelay";

import "../../primitives/types.proto";

message Message {
    oneof transactions_relay {
        ForwardedTransactionsMessage forwarded_transactions = 1;
    }
}

// TODO isn't this redundant with oneof?
enum TransactionsRelayMessageType {
    TRANSACTION_RELAY_RESERVED = 0;
    TRANSACTION_RELAY_FORWARDED_TRANSACTIONS = 1;
}

message ForwardedTransactionsMessage {
    ForwardedTransactionsSignedFields forwarded_transactions_signed_fields = 1;
    primitives.ed25519_sig signature = 2;
}
    
message ForwardedTransactionsSignedFields {
    ForwardedTransactionsSignedFields message_type = 1;
    primitives.ed25519_pkey gw_node_public_key = 2;
    repeated bytes transaction_data = 3;
}